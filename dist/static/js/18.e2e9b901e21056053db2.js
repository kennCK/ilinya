webpackJsonp([18],{258:function(e,n,t){t(434);var a=t(167)(t(374),t(464),null,null);e.exports=a.exports},374:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t(8),s=t(16);n.default={mounted:function(){this.getBranches()},data:function(){return{user:s.a.user,tokenData:s.a.tokenData,branches:[],company:[],selectedBranch:""}},methods:{getBranches:function(){var e=this,n={condition:[{column:"account_id",value:this.user.userID,clause:"="}],with_foreign_table:["company_branch"]};this.APIRequest("company_branch_employee/retrieve",n).then(function(n){e.branches=n.data,console.log(e.branches),e.getCompanyDetails()})},getCompanyDetails:function(){for(var e=this,n=0;n<this.branches.length;n++)!function(n){var t={condition:[{column:"id",clause:"=",value:e.branches[n].company_branch.company_id}]};e.APIRequest("company/retrieve",t).then(function(t){e.company[n]=t.data})}(n);console.log(this.company)},loadSelectedBranch:function(){console.log(this.company[this.selectedBranch][0].id+" / "+this.branches[this.selectedBranch].company_branch_id),s.a.setCompany(this.company[this.selectedBranch][0].id,this.branches[this.selectedBranch].company_branch_id),a.a.push("dashboard")}}}},408:function(e,n,t){n=e.exports=t(246)(),n.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"CompanySelection.vue",sourceRoot:""}])},434:function(e,n,t){var a=t(408);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t(247)("4a10768f",a,!0)},464:function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"container-fluid"},[t("br"),e._v(" "),t("br"),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6 offset-md-4"},[t("h4"),e._v(" "),t("p",[t("b",[e._v("Hi "+e._s(e.user.username))]),e._v("!\n\n      "),t("br"),e._v(" "),t("br"),e._v(" "),t("i",[e._v("Greetings!")]),e._v(" "),t("br"),e._v(" "),t("br"),e._v("\n      You have multiple Companies or Branches and you can only load one branch or company at a time. \n\n      "),t("br"),t("br"),e._v("Please select options below and click load.")])])]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-6 offset-sm-3"},[t("div",{staticClass:"input-group"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedBranch,expression:"selectedBranch"}],staticClass:"form-control",on:{change:function(n){var t=Array.prototype.filter.call(n.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedBranch=n.target.multiple?t:t[0]}}},[t("option",{attrs:{value:"",selected:"",hidden:""}},[e._v("Select a Company or Branches")]),e._v(" "),e._l(e.branches,function(n,a){return t("option",{domProps:{value:a}},[e._v(e._s(a))])})],2)]),e._v(" "),t("br"),e._v(" "),t("div",[t("button",{staticClass:"btn btn-primary btn-lg pull-right",on:{click:function(n){e.loadSelectedBranch()}}},[t("i",{staticClass:"fa fa-spinner",attrs:{"aria-hidden":"true"}}),e._v(" Load\n            ")])])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=18.e2e9b901e21056053db2.js.map