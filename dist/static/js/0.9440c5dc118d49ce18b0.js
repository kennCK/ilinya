webpackJsonp([0],{250:function(t,e,a){a(445);var n=a(167)(a(368),a(477),"data-v-de0df2b6",null);t.exports=n.exports},274:function(t,e,a){a(308);var n=a(167)(a(280),a(329),"data-v-737981fc",null);t.exports=n.exports},275:function(t,e,a){a(302);var n=a(167)(a(279),a(323),"data-v-1a2469f5",null);t.exports=n.exports},276:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"",create:function(){},mounted:function(){},data:function(){return{}},props:{},methods:{}}},277:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"",create:function(){},mounted:function(){this.defaultValue=!!this.default_value&&this.default_value},data:function(){return{defaultValue:!1}},props:{input_setting:Object,default_value:String,input_name:String,field_name:String,db_name:String,form_data:Object,form_status:String},methods:{valueChanged:function(t){$(t.target).val($(t.target).is(":checked")),this.$emit("change",t,this.db_name)}}}},278:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"",create:function(){},mounted:function(){this.initInputSetting()},data:function(){return{options:[],option_lookup:{},defaultValue:null,defaultFormat:"MM/DD/YYYY",defaultTimeValue:"",dateInputTrueValue:null,changeTriggered:!1}},props:{input_setting:Object,default_value:[String,Number],db_name:String,form_data:Object,form_status:String},watch:{form_status:function(t){},options:function(t){}},methods:{initInputSetting:function(){var t=this;this.defaultValue=this.default_value?this.default_value:null,$(this.$refs.datePickerInput).datetimepicker({format:"MM/DD/YYYY",enabledHours:!1,defaultDate:!1,useCurrent:!1,showClear:!0,showClose:!0}).on("dp.change",function(e){t.changeTriggered=!0,e.date?$(t.$refs.dateInput).val(t.dateInputTrueValue=e.date.year()+"-"+t.padNumber(e.date.month()+1,2)+"-"+t.padNumber(e.date.date(),2)+" "+t.defaultTimeValue):$(t.$refs.dateInput).val(null),$(t.$refs.dateInput).change()}).on("dp.show",function(e){t.changeTriggered=!1}).on("dp.hide",function(e){!1===t.changeTriggered&&""===$(t.$refs.datePickerInput).val()&&($(t.$refs.dateInput).val(null),$(t.$refs.dateInput).change())}),$(this.$refs.dateInput).on("change",function(e){t.valueChanged(e)}),this.input_setting&&this.input_setting.time_setting&&void 0!==this.input_setting.time_setting.default_time&&(this.defaultTimeValue=this.input_setting.time_setting.default_time)},valueChanged:function(t){this.$emit("change",t)}}}},279:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"",components:{"radio-button":a(313),"check-box":a(311),"check-list":a(310),"select-input":a(314),select2:a(315),"textarea-input":a(318),"single-image":a(316),"table-input":a(317),"date-picker":a(312)},create:function(){},mounted:function(){this.initSetting()},props:{input_name:String,db_name:String,field_name:String,label:String,label_style:Object,label_colspan:Number,form_data:{type:Object,default:function(){return{}}},input_type:String,input_setting:Object,input_style:Object,placeholder:String,muted_text:String,form_data_updated:Boolean,form_status:String,default_value:[String,Number],error_list:Object,read_only:Boolean},data:function(){return{dbName:null,inputName:"",labelText:null,labelStyle:{},labelColspan:3,inputType:"text",inputSetting:{},inputStyle:{},inputPlaceholder:null,feedbackStatusClass:"",feedbackStatus:0,feedbackMessage:"",value:null}},watch:{form_status:function(t){},form_data_updated:function(t){this.feedbackStatus=0,this.feedbackMessage=""},error_list:function(t){void 0!==this.error_list[this.db_name]&&(this.feedbackStatus=2,this.feedbackMessage=this.error_list[this.db_name][0])},feedbackStatus:function(t){switch(this.feedbackMessage=this.feedbackMessage,1*t){case 1:this.feedbackStatusClass="is-valid";break;case 2:this.feedbackStatusClass="is-invalid";break;case 3:this.feedbackStatusClass="has-warning";break;default:this.feedbackStatusClass=""}}},methods:{initSetting:function(){this.dbName=this.db_name,this.inputName=this.inputName?this.input_name:this.dbName,this.labelText=this.label?this.label:this.input_name,this.labelStyle=this.label_style,this.labelColspan=void 0!==this.label_colspan?this.label_colspan:4,this.inputType=this.input_type?this.input_type:"text",this.inputStyle=this.input_style,this.inputPlaceholder=this.placeholder?this.placeholder:this.labelText;var t=this.inputName.split(".");if(t.length>1){this.inputName=t[0];for(var e=1;e<t.length;e++)this.inputName+="*"===t[e]?"[]":"["+t[e]+"]"}console.log(this.inputName)},formDataUpdated:function(){},valueChanged:function(t,e){this.feedbackStatus=0,this.feedbackMessage="",$(t.target).attr("field_name",this.field_name),this.$emit("value_changed",t,e)}}}},280:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),i=a.n(n);e.default={name:"",components:{"input-cell":a(275)},beforeCreate:function(){this.$options.components.inputGroupRecursive=a(274)},create:function(){},mounted:function(){this.initializeInput()},data:function(){return{inputList:{},valueFunctionList:{},inputInitialized:!1,fieldNameList:{}}},props:{inputs:Object,form_data:{type:Object,default:function(){return{}}},form_data_updated:Boolean,form_status:String,error_list:Object},watch:{form_data_updated:function(t){for(var e in this.inputList){var a=this.inputList[e].field_name,n=this.inputList[e].field_name;if(void 0!==this.valueFunctionList[a]){var i=this.valueFunctionList[a](this.form_data);for(var s in i)this.formDataChanged(s,i[s])}else this.formDataChanged(a,this.form_data[n])}}},methods:{formGroupDataChanged:function(t,e){this.$emit("form_data_changed",t,e)},valueChanged:function(t,e){var a=(void 0!==e||$(t.target).attr("name"),$(t.target).attr("field_name"));if(void 0!==this.valueFunctionList[a]){this.formDataChanged(a,$(t.target).val());var n=this.valueFunctionList[a](this.form_data);for(var i in n)this.formDataChanged(i,n[i])}else this.formDataChanged(a,$(t.target).val())},formDataChanged:function(t,e){this.$emit("form_data_changed",t,this.dataFormat(t,e))},initializeInput:function(){this.inputList={};for(var t in this.inputs){if(i.a.set(this.inputList,t,this.inputs[t]),i.a.set(this.inputList[t],"field_name",t),void 0===this.inputList[t].db_name&&i.a.set(this.inputList[t],"db_name",t),void 0===this.inputList[t].input_name&&i.a.set(this.inputList[t],"input_name",this.StringUnderscoreToPhrase(t.replace(".","_"))),void 0===this.inputList[t].read_only&&i.a.set(this.inputList[t],"read_only",!1),void 0===this.inputList[t].input_type&&i.a.set(this.inputList[t],"input_type","text"),void 0===this.inputList[t].col&&i.a.set(this.inputList[t],"col","12"),i.a.set(this.fieldNameList,this.inputList[t].db_name,this.inputList[t].field_name),i.a.set(this.inputList[t],"feedback_status",0),i.a.set(this.inputList[t],"feedback_message",""),void 0===this.inputList[t].default_value?i.a.set(this.inputList[t],"default_value",null):this.formDataChanged(t,this.inputList[t].default_value),void 0===this.inputList[t].data_format){var e=void 0;this.inputList[t].input_type,e="text",i.a.set(this.inputList[t],"data_format",e)}this.formDataChanged(t,this.inputList[t].default_value),void 0!==this.inputList[t].value_function&&(this.valueFunctionList[t]=this.inputList[t].value_function)}this.inputInitialized=!0},dataFormat:function(t,e){if(void 0===t)return null;var a=e;switch(this.inputList[t].data_format){case"decimal":return(1*a).toFixed(2);case"number":return 1*a;default:return a}}}}},281:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"",create:function(){},mounted:function(){},data:function(){return{}},props:{},methods:{}}},282:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"",create:function(){},mounted:function(){this.initInputSetting()},data:function(){return{options:[],option_lookup:{},defaultValue:null}},props:{input_setting:Object,default_value:[String,Number],db_name:String,input_name:String,field_name:String,form_data:Object,form_status:String,feedback_status_class:String},watch:{form_status:function(t){"create"!==t&&"editing"!==t&&"view"!==t||void 0!==this.input_setting.option_function&&this.input_setting.option_function(this)},options:function(t){}},methods:{initInputSetting:function(){void 0!==this.input_setting.options&&this.setOption(this.input_setting.options),this.defaultValue=this.default_value?this.default_value:null,void 0!==this.input_setting.option_function&&this.input_setting.option_function(this)},setOption:function(t){this.options=t,this.option_lookup={};for(var e in this.options)this.option_lookup[this.options[e].value]=this.options[e].label},valueChanged:function(t){this.$emit("change",t)}}}},283:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"",create:function(){},mounted:function(){this.initInput()},data:function(){return{value:1,options:{results:[]}}},props:{input_setting:Object,default_value:String,db_name:String,form_data:Object,form_status:String,placeholder:String},methods:{initInput:function(){var t=this,e=this;this.placeholder?this.placeholder:$(this.$refs.select).select2({data:this.value,minimumInputLength:3,placeholder:"Select",query:function(e){var a={condition:[{column:"first_name",clause:"like",value:"%"+e.term+"%"}]};void 0!==e.term&&(t.options.results=[]),t.APIRequest("account_information/retrieve",a,function(a){if(a.data)for(var n=0;n<a.data.length;n++)t.options.results.push({id:a.data[n].id,text:a.data[n].first_name+" "+a.data[n].middle_name+" "+a.data[n].last_name});e.callback(t.options)})}}).on("change",function(t){e.value=this.value,e.$emit("change",t)})}}}},284:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(14);e.default={name:"",create:function(){},mounted:function(){this.initInputSetting()},data:function(){return{imgStyle:{},defaultImageSrc:a(309),imageSrc:null}},props:{input_setting:Object,default_value:String,db_name:String,field_name:String,form_data:Object,form_status:String,form_data_updated:Boolean},watch:{form_data_updated:function(t){var e=this.db_name.replace("_file","");this.form_data[e]?this.imageSrc=n.default.IMAGE_URL+"department_logo/"+this.form_data[e]:this.imageSrc=this.defaultImageSrc}},methods:{initInputSetting:function(){void 0!==this.input_setting?(this.imgStyle=void 0!==this.input_setting.image_style?this.input_setting.image_style:{width:"100%"},this.defaultValue=this.default_value?this.default_value:null):this.imgStyle={width:"100%"},this.imageSrc=this.defaultImageSrc},triggerFileInput:function(){if("view"===this.form_status)return!1;$(this.$refs.fileInput).trigger("click")},inputFileChanged:function(t){var e=this,a=t.target;if(a.files&&a.files[0]){var n=new FileReader;n.onload=function(t){e.imageSrc=t.target.result},n.readAsDataURL(a.files[0])}},valueChanged:function(t){this.$emit("value_changed",t)}}}},285:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),i=a.n(n);e.default={name:"",create:function(){},mounted:function(){this.initConfig(),this.initColumnSetting()},data:function(){return{columnSetting:[[],[]],linearColumnSetting:[],tableEntries:[],currentSort:null,action:{add_entry:!0,remove_entry:!0},columnCount:0,deletedForeignTable:[]}},props:{form_data_updated:Boolean,input_setting:Object,default_value:String,db_name:String,form_data:Object,form_status:String,placeholder:String},watch:{form_data_updated:function(t){this.tableEntries=this.form_data[this.db_name]?this.form_data[this.db_name]:[],this.deletedForeignTable=[]}},methods:{addEntry:function(){for(var t={id:0},e=0;e<this.linearColumnSetting.length;e++)t[this.linearColumnSetting[e].db_name]=null;this.tableEntries.push(t)},initColumnSetting:function(){var t=this.input_setting.column_setting;for(var e in t){this.columnCount++;var a=t[e];if(i.a.set(a,"db_name",void 0!==a.db_name?a.db_name:e),this.initColumn(a),this.columnSetting[0].push(a),a.sub_columns){var n=0;for(var s in a.sub_columns){n++;var o=a.sub_columns[s];i.a.set(o,"db_name",s),this.initColumn(o),this.columnSetting[1].push(o),this.linearColumnSetting.push(o)}i.a.set(a,"sub_column_count",n)}else this.linearColumnSetting.push(a)}},initConfig:function(){if(void 0!==this.input_setting.action)for(var t=0;t<this.input_setting.action.length;t++)this.action[this.input_setting.action[t]]=!0},initColumn:function(t){void 0===t.name&&i.a.set(t,"name",this.StringUnderscoreToPhrase(t.db_name)),void 0===t.type&&i.a.set(t,"type","text"),void 0===t.sort&&i.a.set(t,"sort",0),void 0===t.value_function&&i.a.set(t,"value_function",function(t,e){var a=e.split("."),n=void 0;if(a.length>1){n=t;for(var i=0;i<a.length&&void 0!==n[a[i]];i++)n=n[a[i]]}else n=t[e];return n}),void 0===t.sub_columns&&i.a.set(t,"sub_columns",null)},removeEntry:function(t,e){console.log(this.tableEntries.splice(t,1)),e&&this.deletedForeignTable.push(e)}}}},286:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"",create:function(){},mounted:function(){this.init()},data:function(){return{defaultValue:null}},props:{db_name:String,field_name:String,placeholder:String,form_data:Object,form_status:String,default_value:[String,Number],feedback_status_class:String},methods:{init:function(){this.defaultValue=this.default_value?this.default_value:null}}}},287:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"RadioButton.vue",sourceRoot:""}])},288:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"SingleImage.vue",sourceRoot:""}])},289:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"DatePicker.vue",sourceRoot:""}])},290:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"CheckList.vue",sourceRoot:""}])},291:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"InputCell.vue",sourceRoot:""}])},292:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Textarea.vue",sourceRoot:""}])},293:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,".hide[data-v-527c3f9f]{display:none}","",{version:3,sources:["C:/xampp/htdocs/ilinya/src/components/input_field/Select2.vue"],names:[],mappings:"AACA,uBACE,YAAa,CACd",file:"Select2.vue",sourcesContent:["\n.hide[data-v-527c3f9f]{\n  display: none\n}\n"],sourceRoot:""}])},294:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Checkbox.vue",sourceRoot:""}])},295:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"TableInput.vue",sourceRoot:""}])},296:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Select.vue",sourceRoot:""}])},297:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,".hidden[data-v-737981fc]{display:none}","",{version:3,sources:["C:/xampp/htdocs/ilinya/src/components/input_field/InputGroup.vue"],names:[],mappings:"AACA,yBACE,YAAa,CACd",file:"InputGroup.vue",sourcesContent:["\n.hidden[data-v-737981fc]{\r\n  display: none\n}\r\n"],sourceRoot:""}])},298:function(t,e,a){var n=a(287);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("de5aebdc",n,!0)},299:function(t,e,a){var n=a(288);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("0431aeaf",n,!0)},300:function(t,e,a){var n=a(289);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("51b39a52",n,!0)},301:function(t,e,a){var n=a(290);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("c5015efc",n,!0)},302:function(t,e,a){var n=a(291);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("4feb514a",n,!0)},303:function(t,e,a){var n=a(292);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("2262d7b0",n,!0)},304:function(t,e,a){var n=a(293);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("4cf78105",n,!0)},305:function(t,e,a){var n=a(294);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("373ba386",n,!0)},306:function(t,e,a){var n=a(295);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("c772c24c",n,!0)},307:function(t,e,a){var n=a(296);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("636190e5",n,!0)},308:function(t,e,a){var n=a(297);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("3ef5588e",n,!0)},309:function(t,e){t.exports="data:image/png;base64,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"},310:function(t,e,a){a(301);var n=a(167)(a(276),a(322),"data-v-1269026f",null);t.exports=n.exports},311:function(t,e,a){a(305);var n=a(167)(a(277),a(326),"data-v-5cf771aa",null);t.exports=n.exports},312:function(t,e,a){a(300);var n=a(167)(a(278),a(321),"data-v-0fbf9383",null);t.exports=n.exports},313:function(t,e,a){a(298);var n=a(167)(a(281),a(319),"data-v-04c8bff6",null);t.exports=n.exports},314:function(t,e,a){a(307);var n=a(167)(a(282),a(328),"data-v-65c12e23",null);t.exports=n.exports},315:function(t,e,a){a(304);var n=a(167)(a(283),a(325),"data-v-527c3f9f",null);t.exports=n.exports},316:function(t,e,a){a(299);var n=a(167)(a(284),a(320),"data-v-08827fdc",null);t.exports=n.exports},317:function(t,e,a){a(306);var n=a(167)(a(285),a(327),"data-v-5d24b37a",null);t.exports=n.exports},318:function(t,e,a){a(303);var n=a(167)(a(286),a(324),"data-v-485779a1",null);t.exports=n.exports},319:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"form-check"},[a("label",{staticClass:"form-check-label"},[a("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"exampleRadios",id:"exampleRadios1",value:"option1",checked:""}}),t._v("\n      Option one is this and that—be sure to include why it's great\n    ")])])])}]}},320:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{style:t.imgStyle,attrs:{src:t.imageSrc},on:{click:t.triggerFileInput}}),t._v(" "),a("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",name:t.db_name},on:{change:t.inputFileChanged}}),t._v(" "),"view"!==t.form_status?a("small",[t._v("Click the image to select an image file to upload")]):t._e()])},staticRenderFns:[]}},321:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("input",{ref:"dateInput",attrs:{type:"hidden",name:t.db_name},on:{change:t.valueChanged}}),t._v(" "),"view"!==t.form_status?a("input",{ref:"datePickerInput",staticClass:"form-control date",attrs:{type:"text",placeholder:t.defaultFormat},domProps:{value:t.form_data[t.db_name]?t.form_data[t.db_name]:t.defaultValue}}):a("span",{staticClass:"form-control"},[t._v("  ")])])},staticRenderFns:[]}},322:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"form-check"},[a("label",{staticClass:"form-check-label"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",value:""}}),t._v("\n      Option one is this and that—be sure to include why it's great\n    ")])])])}]}},323:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group row",class:[t.feedbackStatus?"has-feedback":"",t.feedbackStatusClass]},["hidden"===t.inputType?a("input",{attrs:{type:"text",name:t.inputName},domProps:{value:t._f("getFormDataFilter")(t.form_data,t.db_name,t.default_value)},on:{change:t.valueChanged}}):[t.labelColspan?a("label",{staticClass:"col-form-label",class:"col-sm-"+t.labelColspan},[t._v(t._s(t.labelText)+" :")]):t._e(),t._v(" "),a("div",{class:"col-sm-"+(12-(12!==t.labelColspan?t.labelColspan:0))},["radio"===t.inputType?a("radio-button",{attrs:{input_setting:t.input_setting,db_name:t.dbName,input_name:t.inputName,field_name:t.field_name,default_value:t.default_value,feedback_status_class:t.feedbackStatusClass}}):"checklist"===t.inputType?a("check-list",{attrs:{input_setting:t.input_setting,db_name:t.dbName,input_name:t.inputName,field_name:t.field_name,feedback_status_class:t.feedbackStatusClass}}):"select"===t.inputType?a("select-input",{attrs:{input_setting:t.input_setting,db_name:t.dbName,input_name:t.inputName,field_name:t.field_name,form_data:t.form_data,form_status:t.form_status,default_value:t.default_value,feedback_status_class:t.feedbackStatusClass},on:{change:t.valueChanged}}):"date"===t.inputType?a("date-picker",{attrs:{input_setting:t.input_setting,db_name:t.dbName,input_name:t.inputName,field_name:t.field_name,form_data:t.form_data,form_status:t.form_status,default_value:t.default_value,feedback_status_class:t.feedbackStatusClass},on:{change:t.valueChanged}}):"single_image"===t.inputType?a("single-image",{attrs:{input_setting:t.input_setting,db_name:t.dbName,input_name:t.inputName,field_name:t.field_name,form_data:t.form_data,form_status:t.form_status,form_data_updated:t.form_data_updated},on:{change:t.valueChanged}}):"textarea"===t.inputType?a("textarea-input",{attrs:{input_setting:t.input_setting,db_name:t.dbName,input_name:t.inputName,placeholder:t.placeholder,field_name:t.field_name,form_data:t.form_data,form_status:t.form_status,form_data_updated:t.form_data_updated,feedback_status_class:t.feedbackStatusClass},on:{change:t.valueChanged}}):"checkbox"===t.inputType?a("check-box",{attrs:{input_setting:t.input_setting,db_name:t.dbName,input_name:t.inputName,field_name:t.field_name,form_data:t.form_data,form_status:t.form_status,default_value:t.default_value,feedback_status_class:t.feedbackStatusClass},on:{change:t.valueChanged}}):"select2"===t.inputType?a("select2",{attrs:{input_setting:t.input_setting,db_name:t.dbName,input_name:t.inputName,field_name:t.field_name,form_data:t.form_data,form_status:t.form_status,default_value:t.default_value,placeholder:t.placeholder,feedback_status_class:t.feedbackStatusClass},on:{change:t.valueChanged}}):"table-input"===t.inputType?a("table-input",{attrs:{input_setting:t.input_setting,db_name:t.dbName,input_name:t.inputName,field_name:t.field_name,form_data:t.form_data,form_status:t.form_status,default_value:t.default_value,placeholder:t.placeholder,form_data_updated:t.form_data_updated},on:{change:t.valueChanged}}):"static"===t.inputType?[t._v("\n        "+t._s(t.form_data[t.db_name])+"\n      ")]:["view"===t.form_status||t.read_only?a("span",{staticClass:"form-control"},[t._v(t._s(t._f("getFormDataFilter")(t.form_data,t.db_name,t.default_value))+" ")]):a("input",{staticClass:"form-control",class:t.feedbackStatusClass,attrs:{name:t.inputName,placeholder:t.inputPlaceholder,type:t.inputType},domProps:{value:t._f("getFormDataFilter")(t.form_data,t.db_name,t.default_value)},on:{change:t.valueChanged}})],t._v(" "),a("input",{staticClass:"form-control",class:t.feedbackStatusClass,attrs:{type:"hidden"}}),t._v(" "),t.feedbackMessage?a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.feedbackMessage))]):t._e(),t._v(" "),t.muted_text?a("small",{staticClass:"form-text text-muted"},[t._v(t._s(t.muted_text))]):t._e()],2)]],2)},staticRenderFns:[]}},324:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("textarea",{staticClass:"form-control",class:t.feedback_status_class,attrs:{rows:"3",name:t.db_name,placeholder:t.placeholder},domProps:{value:t.form_data[t.db_name]?t.form_data[t.db_name]:t.defaultValue}})])},staticRenderFns:[]}},325:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{class:"view"===t.form_status?"hide":""},[a("select",{ref:"select",staticStyle:{width:"100%"},attrs:{name:t.db_name}})]),t._v(" "),"view"===t.form_status?a("span",{staticClass:"form-control"},[t._v("hey")]):t._e()])},staticRenderFns:[]}},326:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"form-check"},[a("label",{staticClass:"form-check-label"},[a("input",{attrs:{type:"hidden",name:t.input_name},domProps:{value:t.form_data[t.db_name]?t.form_data[t.db_name]:t.defaultValue}}),t._v(" "),a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",readonly:"view"===t.form_status},domProps:{value:t.form_data[t.db_name]?t.form_data[t.db_name]:t.defaultValue},on:{change:t.valueChanged}})])])])},staticRenderFns:[]}},327:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"table table-responsive-md"},[a("thead",[a("tr",[t._l(t.columnSetting[0],function(e,n){return a("th",{attrs:{rowspan:e.sub_columns?1:2,colspan:e.sub_columns?e.sub_column_count:1}},[t._v("\n          "+t._s(e.name)+"\n          ")])}),t._v(" "),t.action.remove_entry?a("th"):t._e()],2),t._v(" "),a("tr",t._l(t.columnSetting[1],function(e,n){return a("th",{attrs:{rowspan:e.sub_columns?1:2,colspan:e.sub_columns?e.sub_column_count:1}},[t._v("\n          "+t._s(e.name)+"\n          ")])}))]),t._v(" "),a("tbody",t._l(t.tableEntries,function(e,n){return a("tr",{on:{click:function(a){t.$emit("row_clicked",n,e.id)}}},[a("input",{attrs:{type:"hidden",name:t.db_name+"["+n+"][id]"},domProps:{value:e.id}}),t._v(" "),t._l(t.linearColumnSetting,function(i){return a("td",["select"===i.input_type?a("select",{staticClass:"form-control",attrs:{name:t.db_name+"["+n+"]["+i.db_name+"]"},domProps:{value:e[i.db_name]||i.default_value}},t._l(i.input_setting.options,function(n){return a("option",{domProps:{value:n.value,selected:(e[i.db_name]||i.default_value)===n.value&&"selected"}},[t._v(t._s(n.label))])})):a("input",{directives:[{name:"model",rawName:"v-model",value:e[i.db_name],expression:"tableEntry[columnSetting['db_name']]"}],staticClass:"form-control",attrs:{name:t.db_name+"["+n+"]["+i.db_name+"]"},domProps:{value:e[i.db_name]},on:{input:function(a){a.target.composing||t.$set(e,i.db_name,a.target.value)}}})])}),t._v(" "),t.action.remove_entry?a("td",[a("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(a){t.removeEntry(n,e.id)}}},[a("i",{staticClass:"fa fa-remove",attrs:{"aria-hidden":"true"}})])]):t._e()],2)})),t._v(" "),a("tfoot",[t.action.add_entry?a("tr",[a("td",{attrs:{colspan:t.columnCount+(t.action.add_entry?1:0)}},[a("button",{staticClass:"btn btn-sm btn-primary pull-right",attrs:{type:"button"},on:{click:t.addEntry}},[a("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),t._v(" Add")])])]):t._e()])]),t._v(" "),t._l(t.deletedForeignTable,function(e,n){return a("input",{attrs:{name:"deleted_foreign_table["+t.db_name+"]["+n+"]"},domProps:{value:e}})})],2)},staticRenderFns:[]}},328:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["view"!==t.form_status?a("select",{staticClass:"form-control",class:t.feedback_status_class,attrs:{name:t.input_name,field_name:t.field_name},domProps:{value:t.form_data[t.db_name]?t.form_data[t.db_name]:t.defaultValue},on:{change:t.valueChanged}},t._l(t.options,function(e){return a("option",{domProps:{value:e.value,selected:e.value==t.form_data[t.db_name]&&"selected"}},[t._v("\n      "+t._s(e.label)+"\n    ")])})):a("span",{staticClass:"form-control"},[t._v(t._s(this.option_lookup[t.form_data[t.db_name]])+"  ")])])},staticRenderFns:[]}},329:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[t._l(t.inputList,function(e){return["group"===e.input_type?a("div",{class:"col-sm-"+e.col},[a("input-group-recursive",{attrs:{inputs:e.inputs,form_data:t.form_data,form_data_updated:t.form_data_updated,form_status:t.form_status,error_list:t.error_list},on:{form_data_changed:t.formGroupDataChanged}})],1):a("div",{class:["hidden"===e.input_type?"hidden":"","col-sm-"+e.col]},[a("input-cell",{attrs:{input_name:e.input_name,field_name:e.field_name,db_name:e.db_name,read_only:e.read_only,input_setting:e.input_setting,input_type:e.input_type,input_style:e.input_style,colspan:e.colspan,label_colspan:e.label_colspan,label:e.label,placeholder:e.placeholder,default_value:e.default_value,feedback_message:e.feedback_message,feedback_status:e.feedback_status,muted_text:e.muted_text,form_data:t.form_data,form_data_updated:t.form_data_updated,form_status:t.form_status,error_list:t.error_list},on:{value_changed:t.valueChanged}})],1)]})],2)])},staticRenderFns:[]}},330:function(t,e,a){a(333);var n=a(167)(a(331),a(334),"data-v-59001e04",null);t.exports=n.exports},331:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(17);e.default={name:"",create:function(){},mounted:function(){},data:function(){return{modalShown:!1}},props:{modal_size:String},watch:{modalShown:function(t){t?this.modal("show"):this.modal("close"),this.$emit("change-state",t),n.a.hasShownModal=t},show_modal:function(t){this.modalShown=t}},methods:{showModal:function(){this.modalShown=!0},closeModal:function(){this.modalShown=!1}}}},332:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,".modal-mask[data-v-59001e04]{position:fixed;z-index:100;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);transition:opacity .3s ease;overflow-y:scroll;padding-top:100px}.modal-wrapper[data-v-59001e04]{display:table-cell;vertical-align:middle}.modal-container[data-v-59001e04]{width:300px;margin:0 auto;padding:20px 30px;background-color:#fff;border-radius:2px;box-shadow:0 2px 8px rgba(0,0,0,.33);transition:all .3s ease;font-family:Helvetica,Arial,sans-serif}.modal-header h3[data-v-59001e04]{margin-top:0;color:#42b983}.modal-default-button[data-v-59001e04]{float:right}.modal-enter[data-v-59001e04],.modal-leave-active[data-v-59001e04]{opacity:0}.modal-enter .modal-container[data-v-59001e04],.modal-leave-active .modal-container[data-v-59001e04]{transform:scale(1.1)}.modal-xl[data-v-59001e04]{max-width:80%;width:100%}.closedModal[data-v-59001e04]{display:none}","",{version:3,sources:["C:/xampp/htdocs/ilinya/src/components/modal/Modal.vue"],names:[],mappings:"AACA,6BACE,eAAgB,AAChB,YAAa,AACb,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,YAAa,AACb,gCAAoC,AACpC,4BAA6B,AAC7B,kBAAmB,AACnB,iBAAkB,CACnB,AACD,gCACE,mBAAoB,AACpB,qBAAuB,CACxB,AACD,kCACE,YAAa,AACb,cAAiB,AACjB,kBAAmB,AACnB,sBAAuB,AACvB,kBAAmB,AACnB,qCAAyC,AACzC,wBAAyB,AACzB,sCAA0C,CAC3C,AACD,kCACE,aAAc,AACd,aAAe,CAChB,AAID,uCACE,WAAa,CACd,AAcD,mEACE,SAAW,CACZ,AACD,qGAEE,oBAAsB,CACvB,AACD,2BACE,cAAe,AACf,UAAU,CACX,AACD,8BACE,YAAY,CACb",file:"Modal.vue",sourcesContent:['\n.modal-mask[data-v-59001e04] {\r\n  position: fixed;\r\n  z-index: 100;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, .5);\r\n  transition: opacity .3s ease;\r\n  overflow-y: scroll;\r\n  padding-top:100px;\n}\n.modal-wrapper[data-v-59001e04] {\r\n  display: table-cell;\r\n  vertical-align: middle;\n}\n.modal-container[data-v-59001e04] {\r\n  width: 300px;\r\n  margin: 0px auto;\r\n  padding: 20px 30px;\r\n  background-color: #fff;\r\n  border-radius: 2px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, .33);\r\n  transition: all .3s ease;\r\n  font-family: Helvetica, Arial, sans-serif;\n}\n.modal-header h3[data-v-59001e04] {\r\n  margin-top: 0;\r\n  color: #42b983;\n}\n.modal-body[data-v-59001e04] {\r\n  /*margin: 20px 0;*/\n}\n.modal-default-button[data-v-59001e04] {\r\n  float: right;\n}\r\n\r\n\r\n/*\r\n* The following styles are auto-applied to elements with\r\n* transition="modal" when their visibility is toggled\r\n* by Vue.js.\r\n*\r\n* You can easily play with the modal transition by editing\r\n* these styles.\r\n*/\n.modal-enter[data-v-59001e04] {\r\n  opacity: 0;\n}\n.modal-leave-active[data-v-59001e04] {\r\n  opacity: 0;\n}\n.modal-enter .modal-container[data-v-59001e04],\r\n.modal-leave-active .modal-container[data-v-59001e04] {\r\n  transform: scale(1.1);\n}\n.modal-xl[data-v-59001e04]{\r\n  max-width: 80%;\r\n  width:100%\n}\n.closedModal[data-v-59001e04]{\r\n  display:none\n}\r\n'],sourceRoot:""}])},333:function(t,e,a){var n=a(332);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("5fc47b3e",n,!0)},334:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"modal"}},[a("div",{class:t.modalShown?"":"closedModal"},[a("div",{staticClass:"modal-mask",on:{click:function(e){t.modalShown=!1}}},[a("div",{staticClass:"modal-dialog",class:t.modal_size},[a("div",{staticClass:"modal-content",on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"modal-header bg-primary"},[t._t("header")],2),t._v(" "),a("div",{staticClass:"modal-body"},[t._t("body",[t._v("\n                default body\n              ")])],2)])])])])])],1)},staticRenderFns:[]}},340:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"",create:function(){},mounted:function(){},data:function(){return{}},props:["type","value","setting","row_data","if_condition","row_index"],methods:{}}},341:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),i=a.n(n);e.default={name:"",create:function(){},mounted:function(){this.initColumnSetting()},data:function(){return{columnSettings:[],tableEntries:[]}},props:{export_setting:Object,api:String},watch:{tableEntries:function(t){}},methods:{exportTable:function(t,e){var a=this;this.APIRequest(this.api+"/retrieve",t,function(t){a.tableEntries=[],t.data&&(a.tableEntries=t.data),a.$nextTick(function(){a.exportToExcel(),e&&e(a.tableEntries)})})},exportToExcel:function(){console.log($(this.$refs.tableWrapper));var t=$(this.$refs.tableWrapper)[0],e=t.outerHTML.replace(/ /g,"%20");console.log(e);var a=document.createElement("a");a.href="data:application/vnd.ms-excel, "+e,a.download="exported_table_"+Math.floor(9999999*Math.random()+1e6)+".xls",a.click()},initColumnSetting:function(){if(this.export_setting)for(var t in this.export_setting.column_setting){var e=this.export_setting.column_setting[t];i.a.set(e,"db_name",t),i.a.set(e,"column_name",void 0===e.column_name?this.StringUnderscoreToPhrase(t):e.column_name),this.columnSettings.push(e)}}}}},342:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),i=a.n(n);e.default={name:"",components:{"input-cell":a(275),"input-group":a(274)},create:function(){},mounted:function(){this.initializeFilter()},data:function(){return{filterList:{},filterInitialized:!1,formData:{},dbNameLookUp:{},fieldNameLookUp:{},condition:[],formDataChanged:!1}},props:{filter_setting:Object},methods:{initializeFilter:function(){this.filterList={};for(var t in this.filter_setting)i.a.set(this.filterList,t,this.filter_setting[t]),void 0===this.filterList[t].name&&i.a.set(this.filterList[t],"name",this.StringUnderscoreToPhrase(t)),void 0===this.filterList[t].db_name&&i.a.set(this.filterList[t],"db_name",t),void 0===this.filterList[t].col&&i.a.set(this.filterList[t],"col",4),void 0===this.filterList[t].clause&&i.a.set(this.filterList[t],"clause","="),void 0===this.filterList[t].is_dummy&&i.a.set(this.filterList[t],"is_dummy",!1),this.dbNameLookUp[t]=this.filterList[t].db_name,i.a.set(this.formData,t,void 0!==this.filter_setting[t].default_value?this.filter_setting[t].default_value:null),this.fieldNameLookUp[this.filterList[t].db_name]=t;this.filterInitialized=!0},valueChanged:function(t,e){if("undefined"===this.filterList[t].is_dummy)return!1;console.log("filter "+t+" : "+e),i.a.set(this.formData,t,e)},getFilter:function(){return this.condition},filterForm:function(){var t=[],e=this.formData;for(var a in e)if(""!==e[a]&&null!==e[a]&&!this.filterList[a].is_dummy){var n=e[a];"like"===this.filterList[a].clause&&(n="%"+n+"%"),t.push({column:this.filterList[a].db_name,value:n,clause:this.filterList[a].clause})}this.condition=t,this.$emit("filter")}}}},343:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),i=a.n(n);e.default={components:{"table-filter":a(354),"table-excel-export":a(353),"table-cell":a(352)},mounted:function(){this.initColumnSetting(),this.$refs.tableFilter?this.$refs.tableFilter.filterForm():this.retrieveData("filter")},data:function(){return{columnSetting:[[],[]],linearColumnSetting:[],tableEntries:[],currentSort:null,currentPage:1,totalPage:1,totalResult:0,prevRetrieveType:null,exportTableSetting:Object,isLoadingData:!1}},props:{api:String,filter_setting:Object,column_setting:Object,table_export_setting:Object,retrieve_parameter:{type:Object,default:function(){return{}}},entry_per_page:{default:5,type:Number}},watch:{currentPage:function(t){0===t&&(this.currentPage=1),this.retrieveData(this.prevRetrieveType)}},methods:{changeSort:function(t,e){if(!1===this.columnSetting[t][e].sort)return!1;null!==this.currentSort&&this.currentSort.db_name!==this.columnSetting[t][e].db_name&&(this.currentSort.sort=0),this.columnSetting[t][e].sort=this.columnSetting[t][e].sort<2?this.columnSetting[t][e].sort+1:0,this.currentSort=this.columnSetting[t][e],this.retrieveData(this.prevRetrieveType)},exportExcel:function(){var t=this;this.isLoadingData=!0;var e={},a=this.cloneObject(this.retrieve_parameter);for(var n in a)e[n]=a[n];if(this.currentSort&&this.currentSort.sort){var i=["","asc","desc"];e.sort={},e.sort[this.currentSort.db_name]=i[this.currentSort.sort]}$.merge(e.condition,this.$refs.tableFilter.getFilter()),this.$refs.tableExcelExport.exportTable(e,function(){t.isLoadingData=!1})},getFiter:function(){var t={},e=this.cloneObject(this.retrieve_parameter);for(var a in e)t[a]=e[a];if(this.currentSort&&this.currentSort.sort){var n=["","asc","desc"];t.sort={},t.sort[this.currentSort.db_name]=n[this.currentSort.sort]}return void 0===t.condition&&(t.condition=[]),$.merge(t.condition,this.$refs.tableFilter.getFilter()),t},retrieveData:function(t,e){var a=this;this.isLoadingData=!0;var n={},i=this.cloneObject(this.retrieve_parameter);for(var s in i)n[s]=i[s];if(this.currentSort&&this.currentSort.sort){var o=["","asc","desc"];n.sort={},n.sort[this.currentSort.db_name]=o[this.currentSort.sort]}e&&(this.currentPage=1),"filter"===t&&this.$refs.tableFilter&&(void 0===n.condition&&(n.condition=[]),$.merge(n.condition,this.$refs.tableFilter.getFilter())),n.limit=this.entry_per_page,n.offset=this.entry_per_page*(this.currentPage-1),this.prevRetrieveType=t,this.APIRequest(this.api+"/retrieve",n,function(t){a.tableEntries=[],t.data?a.tableEntries=t.data:!t.data&&t.total_entries>0&&a.currentPage--,a.totalResult=t.total_entries,a.totalPage=Math.ceil(t.total_entries/a.entry_per_page),a.isLoadingData=!1})},updateRow:function(t,e){var a=this,n={id:-1!==t?this.tableEntries[t].id:e},s=this.cloneObject(this.retrieve_parameter);for(var o in s)n[o]=s[o];this.APIRequest(this.api+"/retrieve",n,function(e){e.data&&(-1!==t?i.a.set(a.tableEntries,t,e.data):a.tableEntries.push(e.data))})},deleteRow:function(t){this.tableEntries.splice(t,1)},initColumnSetting:function(){for(var t in this.column_setting){var e=this.column_setting[t];if(i.a.set(e,"db_name",void 0===this.column_setting[t].db_name?t:this.column_setting[t].db_name),this.initColumn(e),this.columnSetting[0].push(e),e.sub_columns){var a=0;for(var n in e.sub_columns){a++;var s=e.sub_columns[n];i.a.set(s,"db_name",n),this.initColumn(s),this.columnSetting[1].push(s),this.linearColumnSetting.push(s)}i.a.set(e,"sub_column_count",a)}else this.linearColumnSetting.push(e)}},initColumn:function(t){void 0===t.name&&i.a.set(t,"name",this.StringUnderscoreToPhrase(t.db_name)),void 0===t.type&&i.a.set(t,"type","text"),void 0===t.sort&&i.a.set(t,"sort",0),"button"===t.type&&(t.sort=!1),void 0===t.if_condition&&i.a.set(t,"if_condition",function(t){return!0}),void 0===t.value_function&&i.a.set(t,"value_function",function(t,e){var a=e.split("."),n=void 0;if(a.length>1){n=t;for(var i=0;i<a.length&&void 0!==n[a[i]];i++)n=n[a[i]]}else n=t[e];return n}),void 0===t.sub_columns&&i.a.set(t,"sub_columns",null)}}}},344:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,".number[data-v-019421a0]{text-align:right}","",{version:3,sources:["C:/xampp/htdocs/ilinya/src/components/table/Cell.vue"],names:[],mappings:"AACA,yBACE,gBAAiB,CAClB",file:"Cell.vue",sourcesContent:["\n.number[data-v-019421a0]{\n  text-align: right\n}\n"],sourceRoot:""}])},345:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Filter.vue",sourceRoot:""}])},346:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"ExcelExport.vue",sourceRoot:""}])},347:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,".select-rtl[data-v-f20229e6]{text-align-last:right}.select-rtl option[data-v-f20229e6]{direction:rtl}","",{version:3,sources:["C:/xampp/htdocs/ilinya/src/components/table/TableComponent.vue"],names:[],mappings:"AACA,6BACE,qBAAuB,CACxB,AACD,oCACE,aAAe,CAChB",file:"TableComponent.vue",sourcesContent:["\n.select-rtl[data-v-f20229e6]{\n  text-align-last: right;\n}\n.select-rtl option[data-v-f20229e6]{\n  direction: rtl;\n}\n"],sourceRoot:""}])},348:function(t,e,a){var n=a(344);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("394809f6",n,!0)},349:function(t,e,a){var n=a(345);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("073864fe",n,!0)},350:function(t,e,a){var n=a(346);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("51a1b231",n,!0)},351:function(t,e,a){var n=a(347);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("73db2526",n,!0)},352:function(t,e,a){a(348);var n=a(167)(a(340),a(356),"data-v-019421a0",null);t.exports=n.exports},353:function(t,e,a){a(350);var n=a(167)(a(341),a(358),"data-v-48699606",null);t.exports=n.exports},354:function(t,e,a){a(349);var n=a(167)(a(342),a(357),"data-v-1fb45736",null);t.exports=n.exports},355:function(t,e,a){a(351);var n=a(167)(a(343),a(359),"data-v-f20229e6",null);t.exports=n.exports},356:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["number"===t.type?a("div",{staticClass:"number"},[t._v("\n    "+t._s(1*t.value)+"\n  ")]):"decimal"===t.type?a("div",{staticClass:"number"},[t._v("\n    "+t._s((1*t.value).toFixed(2))+"\n  ")]):"html"===t.type?a("div",{domProps:{innerHTML:t._s(t.value)}}):"boolean"===t.type?a("div",[t._v("\n    "+t._s(1*t.value?"True":"False")+"\n  ")]):"check"===t.type?a("div",[1*t.value==0?a("i",{staticClass:"fa fa-close text-danger",attrs:{"aria-hidden":"true"}}):a("i",{staticClass:"fa fa-check text-success",attrs:{"aria-hidden":"true"}})]):"button"===t.type?a("div",[t.if_condition(t.row_data)?a("button",{staticClass:"btn",class:t.setting.class,attrs:{type:"button"},domProps:{innerHTML:t._s(t.setting.label)},on:{click:[function(e){t.setting.on_click(e,t.row_data,t.row_index)},function(t){t.stopPropagation()}]}}):t._e()]):"multiple-button"===t.type?a("div",[t._l(t.setting.buttons,function(e){return[e.if_condition(t.row_data)?a("button",{staticClass:"btn ml-2 mb-2",class:e.class,attrs:{type:"button"},domProps:{innerHTML:t._s(e.label)},on:{click:[function(a){e.on_click(a,t.row_data,t.row_index)},function(t){t.stopPropagation()}]}}):t._e()]})],2):a("div",[t._v("\n    "+t._s(t.value)+"\n  ")])])},staticRenderFns:[]}},357:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.filterInitialized?a("form",{ref:"form",attrs:{enctype:"multipart/form-data",role:"form",method:"POST"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-10 float-right"},[a("input-group",{attrs:{inputs:t.filterList,form_data:t.formData,form_data_updated:t.formDataChanged},on:{form_data_changed:t.valueChanged}})],1),t._v(" "),a("div",{staticClass:"col-sm-2"},[a("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:t.filterForm}},[a("i",{staticClass:"fa fa-filter",attrs:{"aria-hidden":"true"}}),t._v(" Filter")])])])]):t._e()])},staticRenderFns:[]}},358:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"btn btn-outline-success",on:{click:function(e){t.$emit("export_excel")}}},[a("i",{staticClass:"fa fa-file-excel-o",attrs:{"aria-hidden":"true"}}),t._v(" Export to Excel")]),t._v(" "),a("div",{ref:"tableWrapper"},[a("table",[a("thead",[a("tr",t._l(t.columnSettings,function(e,n){return a("th",[t._v("\n            "+t._s(e.column_name)+"\n\n          ")])}))]),t._v(" "),a("tbody",t._l(t.tableEntries,function(e,n){return a("tr",t._l(t.columnSettings,function(i){return a("td",[t._v("\n            "+t._s(void 0===i.value_function?e[i.db_name]:i.value_function(e,n))+"\n          ")])}))}))])])])},staticRenderFns:[]}},359:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.table_export_setting?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 text-right"},[a("table-excel-export",{ref:"tableExcelExport",attrs:{export_setting:t.table_export_setting,api:t.api},on:{export_excel:t.exportExcel}})],1)]):t._e(),t._v(" "),t.filter_setting?a("table-filter",{ref:"tableFilter",staticClass:"mb-2",attrs:{filter_setting:t.filter_setting},on:{filter:function(e){t.retrieveData("filter",!0)}}}):t._e(),t._v(" "),a("table",{staticClass:"table table-bordered table-condensed table-hover table-responsive-sm"},[a("thead",[a("tr",t._l(t.columnSetting[0],function(e,n){return a("th",{attrs:{rowspan:e.sub_columns?1:2,colspan:e.sub_columns?e.sub_column_count:1},on:{click:function(e){t.changeSort(0,n)}}},[t._v("\n          "+t._s(e.name)+"\n          "),a("span",{staticClass:"pull-right"},[0===e.sort?a("i",{staticClass:"fa fa-sort",attrs:{"aria-hidden":"true"}}):1===e.sort?a("i",{staticClass:"fa fa-sort-asc",attrs:{"aria-hidden":"true"}}):2===e.sort?a("i",{staticClass:"fa fa-sort-desc",attrs:{"aria-hidden":"true"}}):t._e()])])})),t._v(" "),a("tr",t._l(t.columnSetting[1],function(e,n){return a("th",{attrs:{rowspan:e.sub_columns?1:2,colspan:e.sub_columns?e.sub_column_count:1},on:{click:function(e){t.changeSort(1,n)}}},[t._v("\n          "+t._s(e.name)+"\n          "),!1!==e.sort?a("span",{staticClass:"pull-right"},[0===e.sort?a("i",{staticClass:"fa fa-sort",attrs:{"aria-hidden":"true"}}):1===e.sort?a("i",{staticClass:"fa fa-sort-asc",attrs:{"aria-hidden":"true"}}):2===e.sort?a("i",{staticClass:"fa fa-sort-desc",attrs:{"aria-hidden":"true"}}):t._e()]):t._e()])}))]),t._v(" "),a("tbody",t._l(t.tableEntries,function(e,n){return a("tr",{on:{click:function(a){t.$emit("row_clicked",n,e.id)}}},t._l(t.linearColumnSetting,function(t){return a("td",[a("table-cell",{attrs:{type:t.type,value:t.value_function(e,t.db_name),setting:t.setting,row_data:e,row_index:n,if_condition:t.if_condition}})],1)}))}))]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6  mb-2"},[a("strong",[t._v("Results: "+t._s(t.totalResult))])]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("nav",[a("ul",{staticClass:"pagination justify-content-end "},[t.isLoadingData?a("li",{staticClass:"page-item",class:1===t.currentPage?"disabled":""},[a("i",{staticClass:"fa fa-hourglass-2",attrs:{"aria-hidden":"true"}}),t._v(" Loading Table...\n          ")]):[a("li",{staticClass:"page-item",class:1*t.currentPage==1?"disabled":""},[a("button",{staticClass:"page-link",attrs:{type:"button",tabindex:"-1"},on:{click:function(e){t.currentPage--}}},[a("i",{staticClass:"fa fa-chevron-left",attrs:{"aria-hidden":"true"}}),t._v("\n                Previous\n              ")])]),t._v(" "),a("li",{staticClass:"page-item ml-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.currentPage,expression:"currentPage"}],staticClass:"form-control select-rtl",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.currentPage=e.target.multiple?a:a[0]}}},t._l(this.totalPage,function(e){return a("option",[t._v(t._s(e))])}))]),t._v(" "),a("li",{staticClass:"page-item"}),t._v(" "),a("li",{staticClass:"page-item"},[a("label",{staticClass:"col-form-label"},[t._v("  of "),a("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.totalPage)+"  ")])])]),t._v(" "),a("li",{staticClass:"page-item"},[a("button",{staticClass:"page-link",on:{click:function(e){t.currentPage++}}},[t._v("Next "),a("i",{staticClass:"fa fa-chevron-right",attrs:{"aria-hidden":"true"}})])])]],2)])])])],1)},staticRenderFns:[]}},367:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(16);e.default={name:"",components:{modal:a(330)},beforeCreate:function(){this.$options.filters.formatDate=this.$options.filters.formatDate.bind(this)},mounted:function(){},data:function(){return{latestAnnouncements:{},announcementMessage:"",announcementStatus:!1}},props:{},methods:{announce:function(){var t=this;this.announcementStatus="loading",this.APIRequest("announcement/create",{message:this.announcementMessage},function(e){e.data?(t.announcementStatus="success",t.getLatestAnnouncement(),setTimeout(function(){t.announcementMessage="",t.announcementStatus=!1},3e3)):t.announcementStatus="error"})},getLatestAnnouncement:function(){var t=this;this.APIRequest("announcement/retrieve",{limit:5,sort:{created_at:"desc"},condition:[{column:"company_id",value:n.a.user.company_id}]},function(e){e.data&&(t.latestAnnouncements=e.data)})},showAnnouncementModal:function(){this.getLatestAnnouncement(),this.$refs.announcementModal.showModal()}},filters:{formatDate:function(t){var e=new Date(t);return this.monthWord(e.getMonth())+" "+e.getDate()+", "+e.getFullYear()+" "+this.formatTime(e)}}}},368:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(14),i=a(16);e.default={name:"",components:{"excel-export":a(450),"table-component":a(355),modal:a(330),"input-cell":a(275),annoucement:a(449)},create:function(){},mounted:function(){},data:function(){var t=this,e={option_function:function(e){t.APIRequest("queue_form/retrieve",{condition:[{column:"company_id",value:i.a.user.company_id}]},function(t){if(t.data){var a=[];a.push({value:0,label:"Select Form"});for(var n=0;n<t.data.length;n++)a.push({value:t.data[n].id,label:t.data[n].title});e.setOption(a)}})}},a={};return a={queue_form_id:{label:"Form",input_type:"select",input_setting:{option_function:function(e){t.APIRequest("queue_form/retrieve",{condition:[{column:"company_id",value:i.a.user.company_id}]},function(t){if(t.data){var a=[];a.push({value:null,label:"Select Form"});for(var n=0;n<t.data.length;n++)a.push({value:t.data[n].id,label:t.data[n].title});e.setOption(a)}})}}},id:{label:"Q-Card Number"},number:{},status:{input_type:"hidden",default_value:3,clause:"!="},status_dummy:{is_dummy:!0,label:"status",input_type:"select",clause:"!=",default_value:4,input_setting:{options:[{value:null,label:"Any"},{value:4,label:"Active"},{value:1,label:"On Queue"},{value:2,label:"Serving"},{value:3,label:"Finished"}]},value_function:function(e){var a={};return e&&(1*e.status_dummy==4?(t.filterSetting.status.clause="!=",a.status=3):(t.filterSetting.status.clause="=",a.status=e.status_dummy)),a}},start_date_filter:{db_name:"created_at",input_type:"date",clause:">=",label:"Start Date",input_setting:{with_time:!0}},end_date_filter:{db_name:"created_at",input_type:"date",clause:"<",label:"End Date",input_setting:{time_setting:{default_time:"23:59:59"}}}},{isLoadingCard:!1,queue_card_id:0,rowIndex:-1,selected_queue_card:{},filterSetting:a,column_setting:{id:{},number:{},details:{sort:!1,type:"html",value_function:function(t){var e="";if(t.queue_card_fields)for(var a in t.queue_card_fields)e+='<div class="col-sm-6 col-md-4"><strong>'+t.queue_card_fields[a].queue_form_field.description+": </strong>"+t.queue_card_fields[a].value+"</div>";return'<small><div class="row">'+e+"</div></small>"}},created_at:{},status:{type:"html",value_function:function(t){return['<span class="badge badge-primary">ON QUEUE </span>','<span class="badge badge-warning">SERVING</span>','<span class="badge badge-success">FINISHED</span>'][t.status-1]}},action:{name:"Action",type:"multiple-button",setting:{buttons:[{if_condition:function(t){return t.facebook_user_id&&3!==t.status},on_click:function(e,a){$(e.target).attr("disabled",!0),t.pageUser(a.facebook_user.account_number,"Please come to the counter",function(){$(e.target).attr("disabled",!1)})},class:"btn-primary btn-sm",label:'<i class="fa fa-bell-o" aria-hidden="true"></i> Call'},{if_condition:function(t){return!0},on_click:function(e,a,n){$(e.target).attr("disabled",!0),t.APIRequest("queue_card/delete",{id:a.id},function(i){i.data&&(t.$refs.queueCardTable.deleteRow(n),a.facebook_user&&t.pageUser(a.facebook_user.account_number,"You QCard: "+a.id+" has been removed"),$(e.target).attr("disabled",!1))})},class:"btn-outline-danger btn-sm",label:'<i class="fa fa-trash-o" aria-hidden="true"></i> Remove'}]}}},tableExportSetting:{file_name:"QueueCards",column_setting:{id:{column_name:"#",value_function:function(t,e){return e+1}},created_at:{}}},retrieveParameter:{condition:[{column:"company_id",value:i.a.user.company_id}],with_foreign_table:["facebook_user","queue_card_fields"]},formStatus:"close",formSelectInputSetting:e,queueFormFields:[],isCalling:!1}},props:{},methods:{excelExport:function(){this.$refs.excelExport.exportTable(this.$refs.queueCardTable.getFiter(),function(){})},pageUser:function(t,e,a,i){var s=this;this.isCalling=!0,i=void 0===i?0:i,this.APIGetRequest(n.default.BACKEND_URL+"/bot/reminder/"+t+"/"+e+"/"+i,{},function(t){s.isCalling=!1,a&&a()})},removeQueueCard:function(){var t=this;this.APIRequest("queue_card/delete",{id:this.queue_card_id},function(e){e.data&&(t.$refs.queueCardTable.deleteRow(t.rowIndex),t.selected_queue_card.facebook_user&&t.pageUser(t.selected_queue_card.facebook_user.account_number,"You QCard: "+t.queue_card_id+" has been removed"),t.closeQueueCardModal())})},changeQueueCardStatus:function(t){var e=this,a={id:this.queue_card_id,status:t};1*t==2&&this.selected_queue_card.facebook_user&&this.pageUser(this.selected_queue_card.facebook_user.account_number,"It's your turn!"),this.APIRequest("queue_card/update",a,function(a){a.data&&(e.selected_queue_card.status=t,1*t==2||1*t==1?e.$refs.queueCardTable.updateRow(e.rowIndex,e.queue_card_id):e.$refs.queueCardTable.deleteRow(e.rowIndex),1*t==3&&e.selected_queue_card.facebook_user&&e.pageUser(e.selected_queue_card.facebook_user.account_number,"Thank you!",null,1))})},rowClicked:function(t,e){var a=this;this.queue_card_id=0,this.isLoadingCard=!0,this.showQueueCard(0),this.rowIndex=t;var n={id:e,with_foreign_table:["queue_card_fields","facebook_user"]};this.APIRequest("queue_card/retrieve",n,function(e){if(e.data){a.queue_card_id=e.data.id,a.selected_queue_card=e.data;var n=e.data.queue_card_fields,i={condition:[{column:"queue_form_id",value:e.data.queue_form_id}],sort:{sequence:"asc"}};a.APIRequest("queue_form_field/retrieve",i,function(t){if(t.data){a.queueFormFields=t.data;for(var e=0;e<t.data.length;e++){a.queueFormFields[e].queue_card_field_id=null,a.queueFormFields[e].value="";for(var i=0;i<n.length;i++)1*n[i].queue_form_field_id==1*t.data[e].id&&(a.queueFormFields[e].value=n[i].value,a.queueFormFields[e].queue_card_field_id=n[i].id)}}}),a.formStatus=1*e.data.status==3?"view":"editing"}else a.queue_card_id=-1,a.$refs.queueCardTable.deleteRow(t);a.isLoadingCard=!1})},submitQueueCard:function(){var t=this;this.isLoadingCard=!0;var e=this.queue_card_id?"queue_card/update":"queue_card/create";this.APIFormRequest(e,this.$refs.queueCardForm,function(e){var a=t.formStatus;e.data?(t.formStatus="success",t.queue_card_id||(t.$refs.queueCardTable.retrieveData(),t.closeQueueCardModal())):t.formStatus="error",setTimeout(function(){t.formStatus=a},2e3),t.isLoadingCard=!1})},closeQueueCardModal:function(){this.$refs.queueCardManagement.closeModal(),this.formStatus="close"},formChanged:function(t,e){var a=this,n={condition:[{column:"queue_form_id",value:t?$(t.target).val():e}]};this.APIRequest("queue_form_field/retrieve",n,function(t){t.data?a.queueFormFields=t.data:a.queueFormFields=[]})},queueCardModalChangeState:function(t){t||(this.$refs.queueCardTable.retrieveData(this.$refs.queueCardTable.prevRetrieveType),this.formStatus="close")},showQueueCard:function(t){"number"!=typeof t&&(this.queue_card_id=0,this.formStatus="create",this.selected_queue_card={queue_form_id:0},this.queueFormFields=[]),this.$refs.queueCardManagement.showModal()}}}},369:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(1),i=a.n(n);e.default={name:"",create:function(){},mounted:function(){this.initColumnSetting()},data:function(){return{columnSettings:[],tableEntries:[]}},props:{},watch:{tableEntries:function(t){}},methods:{exportTable:function(t,e){var a=this;this.tableEntries=[],this.columnSettings=[];var n=0;if(void 0!==t.condition&&t.condition.length)for(var i in t.condition)"queue_form_id"===t.condition[i].column?n=i:console.log(t.condition[i].column);else console.log(t);if(!n||1*t.condition[n].value<1)return $.alert({title:'<i class="fa fa-warning text-danger" aria-hidden="true"></i> <strong>Ooops!</strong>',content:"Please filter the table by <em><strong>Form</strong></em> first before downloading it to excel"}),!1;this.APIRequest("queue_form/retrieve",{id:t.condition[0].value,with_foreign_table:["queue_form_fields"]},function(n){if(n.data&&n.data.queue_form_fields){var i=n.data.queue_form_fields;for(var s in i)a.columnSettings.push({queue_form_field_id:i[s].id,column_name:i[s].description});t.with_foreign_table=["queue_card_fields","facebook_user"],a.APIRequest("queue_card/retrieve",t,function(n){if(console.log(t),console.log(n.data),n.data)for(var i in n.data){var s={};s.facebook_user_full_name=n.data[i].facebook_user?n.data[i].facebook_user.full_name:null,s.id=n.data[i].id;for(var o in a.columnSettings)for(var r in n.data[i].queue_card_fields)1*a.columnSettings[o].queue_form_field_id==1*n.data[i].queue_card_fields[r].queue_form_field_id&&(s["queue_form_"+a.columnSettings[o].queue_form_field_id]=n.data[i].queue_card_fields[r].value);a.tableEntries.push(s)}a.$nextTick(function(){a.exportToExcel(),e&&e(a.tableEntries)})})}})},exportToExcel:function(){var t=$(this.$refs.tableWrapper)[0],e=t.outerHTML.replace(/ /g,"%20"),a=document.createElement("a");a.href="data:application/vnd.ms-excel, "+e,a.download="exported_table_"+Math.floor(9999999*Math.random()+1e6)+".xls",a.click()},initColumnSetting:function(){if(this.export_setting)for(var t in this.export_setting.column_setting){var e=this.export_setting.column_setting[t];i.a.set(e,"db_name",t),i.a.set(e,"column_name",void 0===e.column_name?this.StringUnderscoreToPhrase(t):e.column_name),this.columnSettings.push(e)}}}}},393:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"ExcelExport.vue",sourceRoot:""}])},396:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Announcement.vue",sourceRoot:""}])},418:function(t,e,a){e=t.exports=a(246)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Counter.vue",sourceRoot:""}])},420:function(t,e,a){var n=a(393);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("4b84a530",n,!0)},423:function(t,e,a){var n=a(396);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("6be77f7f",n,!0)},445:function(t,e,a){var n=a(418);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(247)("25e8980b",n,!0)},449:function(t,e,a){a(423);var n=a(167)(a(367),a(454),"data-v-0c668aee",null);t.exports=n.exports},450:function(t,e,a){a(420);var n=a(167)(a(369),a(451),"data-v-0205a418",null);t.exports=n.exports},451:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"btn btn-outline-success  mx-auto d-block",on:{click:function(e){t.$emit("excel_export_clicked")}}},[a("i",{staticClass:"fa fa-download",attrs:{"aria-hidden":"true"}}),t._v(" Download as Excel")]),t._v(" "),a("div",{ref:"tableWrapper",staticStyle:{display:"none"}},[a("table",[a("thead",[a("tr",[a("th",[t._v("Qcard")]),t._v(" "),a("th",[t._v("\n            Facebook User\n          ")]),t._v(" "),t._l(t.columnSettings,function(e,n){return a("th",[t._v("\n            "+t._s(e.column_name)+"\n\n          ")])})],2)]),t._v(" "),a("tbody",t._l(t.tableEntries,function(e,n){return a("tr",[a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(e.facebook_user_full_name))]),t._v(" "),t._l(t.columnSettings,function(n){return a("td",[t._v("\n            "+t._s(e["queue_form_"+n.queue_form_field_id])+"\n          ")])})],2)}))])])])},staticRenderFns:[]}},454:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"btn btn-lg btn-success mx-auto d-block",on:{click:t.showAnnouncementModal}},[a("i",{staticClass:"fa fa-exclamation-circle",attrs:{"aria-hidden":"true"}}),t._v(" Announcement")]),t._v(" "),a("modal",{ref:"announcementModal"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("i",{staticClass:"fa fa-exclamation-circle",attrs:{"aria-hidden":"true"}}),t._v(" Announcement\n    ")]),t._v(" "),a("div",{attrs:{slot:"body"},slot:"body"},[a("div",{},[a("label",{staticClass:"form-label-control"},[t._v("Make Announcement")]),t._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.announcementMessage,expression:"announcementMessage"}],staticClass:"form-control",attrs:{placeholder:"Type your announcement here..."},domProps:{value:t.announcementMessage},on:{input:function(e){e.target.composing||(t.announcementMessage=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-sm-12 text-right"},["success"===t.announcementStatus?a("label",{staticClass:"text-success"},[t._v("Announcement Sent!")]):t._e(),t._v(" "),"error"===t.announcementStatus?a("label",{staticClass:"text-danger"},[t._v("Announcement Failed! Please refresh the page and try again.")]):t._e(),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{disabled:t.announcementStatus},on:{click:t.announce}},[a("i",{staticClass:"fa fa-bullhorn",attrs:{"aria-hidden":"true"}}),t._v(" Announce")])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12  text-center mb-3"},[a("strong",[t._v("Announcements")])]),t._v(" "),a("div",{staticClass:"col-sm-12"},t._l(t.latestAnnouncements,function(e){return a("div",{staticClass:"card card-outline-secondary mb-3"},[a("div",{staticClass:"card-body"},[a("blockquote",{staticClass:"card-blockquote"},[a("p",[t._v(t._s(e.message))]),t._v(" "),a("small",[a("cite",{attrs:{title:"Date and Time Announced"}},[t._v(t._s(t._f("formatDate")(e.created_at)))])])])])])}))])])])],1)},staticRenderFns:[]}},477:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row mb-5"},[a("div",{staticClass:"col-sm-6 col-md-3 mb-2"},[a("annoucement")],1),t._v(" "),a("div",{staticClass:"col-sm-6 col-md-3 text-center"},[a("button",{staticClass:"btn btn-lg btn-primary mb-2",on:{click:t.showQueueCard}},[a("i",{staticClass:"fa fa-vcard-o",attrs:{"aria-hidden":"true"}}),t._v(" Create Queue Entry")])]),t._v(" "),a("div",{staticClass:"col-sm-12 col-md-3 ml-auto text-sm-right"},[a("excel-export",{ref:"excelExport",on:{excel_export_clicked:t.excelExport}})],1)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("table-component",{ref:"queueCardTable",attrs:{api:"queue_card",filter_setting:t.filterSetting,column_setting:t.column_setting,retrieve_parameter:t.retrieveParameter},on:{row_clicked:t.rowClicked}})],1)]),t._v(" "),a("modal",{ref:"queueCardManagement",on:{"change-state":t.queueCardModalChangeState}},[a("div",{staticStyle:{width:"100%"},attrs:{slot:"header"},slot:"header"},[a("i",{staticClass:"fa fa-vcard-o",attrs:{"aria-hidden":"true"}}),t._v(" Queue Card\n      "),t.isLoadingCard?a("span",{staticClass:"float-right"},[a("i",{staticClass:"fa fa-hourglass-2",attrs:{"aria-hidden":"true"}}),t._v(" Please wait...")]):t._e()]),t._v(" "),a("div",{attrs:{slot:"body"},slot:"body"},[-1===t.queue_card_id?a("div",{staticClass:"alert alert-danger text-center"},[a("i",{staticClass:"fa fa-exclamation-circle",attrs:{"aria-hidden":"true"}}),t._v(" The Queue Card is not available. It may have been deleted by the user.\n      ")]):a("form",{ref:"queueCardForm"},[a("input",{attrs:{type:"hidden",name:"id"},domProps:{value:t.queue_card_id}}),t._v(" "),a("input-cell",{attrs:{input_name:"Form",db_name:"queue_form_id",input_type:"select",input_setting:t.formSelectInputSetting,form_status:t.queue_card_id?"view":t.formStatus,default_value:0,form_data:t.selected_queue_card},on:{value_changed:t.formChanged}}),t._v(" "),a("input-cell",{attrs:{input_name:"Number",db_name:"number",form_data:t.selected_queue_card,form_status:t.formStatus}}),t._v(" "),t._l(t.queueFormFields,function(e,n){return[a("input",{attrs:{type:"hidden",name:"queue_card_fields["+n+"][id]"},domProps:{value:e.queue_card_field_id}}),t._v(" "),a("input",{attrs:{type:"hidden",name:"queue_card_fields["+n+"][queue_form_field_id]"},domProps:{value:e.id}}),t._v(" "),a("input-cell",{attrs:{input_name:e.description,db_name:"queue_card_fields["+n+"][value]",default_value:e.value}})]}),t._v(" "),3===t.selected_queue_card.status?a("div",{staticClass:"alert alert-success text-center"},[t._v("\n          This Q-card is done! "),a("i",{staticClass:"fa fa-check-circle",attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),t.queue_card_id&&3!==t.selected_queue_card.status&&!t.isLoadingCard?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 text-center"},[a("button",{staticClass:"btn btn-outline-danger pull-left ",attrs:{type:"button"},on:{click:t.removeQueueCard}},[a("i",{staticClass:"fa fa-trash-o",attrs:{"aria-hidden":"true"}}),t._v(" Remove")]),t._v(" "),t.selected_queue_card.facebook_user_id?a("button",{staticClass:"btn btn-primary ",attrs:{disabled:t.isCalling,type:"button"},on:{click:function(e){t.selected_queue_card.facebook_user&&t.pageUser(t.selected_queue_card.facebook_user.account_number,"Please come to the counter")}}},[a("i",{staticClass:"fa fa-bell-o",attrs:{"aria-hidden":"true"}}),t._v(" Call ")]):t._e(),t._v(" "),2===t.selected_queue_card.status?a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(e){t.changeQueueCardStatus(1)}}},[t._v("Cancel Serving")]):a("button",{staticClass:"btn btn-warning ",attrs:{type:"button"},on:{click:function(e){t.changeQueueCardStatus(2)}}},[t._v(" Serve")]),t._v(" "),2===t.selected_queue_card.status?a("button",{staticClass:"btn btn-success ",attrs:{type:"button"},on:{click:function(e){t.changeQueueCardStatus(3)}}},[a("i",{staticClass:"fa fa-check-circle-o",attrs:{"aria-hidden":"true"}}),t._v(" Finish")]):t._e(),t._v(" "),a("button",{staticClass:"btn btn-outline-success pull-right",attrs:{type:"button"},on:{click:t.submitQueueCard}},[a("i",{staticClass:"fa fa-save",attrs:{"aria-hidden":"true"}}),t._v(" Save")])])]):3===t.selected_queue_card.status||t.isLoadingCard?t._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 text-right"},["success"===t.formStatus?a("span",{staticClass:"text text-success"},[t._v("Success!")]):"error"===t.formStatus?a("span",{staticClass:"text text-danger"},[t._v("Failed!")]):t._e(),t._v(" "),a("button",{staticClass:"btn btn-primary ",attrs:{type:"button"},on:{click:t.submitQueueCard}},[t._v("Submit")]),t._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.closeQueueCardModal}},[t._v("Close")])])])],2)])])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=0.9440c5dc118d49ce18b0.js.map